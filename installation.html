<!DOCTYPE html>
<html>
<head>
  <meta charSet='utf-8' />
  <title>JLUie_MotionAnalysis - 资源共享和使用实例分享</title>
  <link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/4.0.0/normalize.min.css' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,600,300,700' rel='stylesheet' type='text/css'>
  <link href='/JLUie_MotionAnalysis/css/docs.css' rel='stylesheet'>
</head>
<body>
  <div class='menu'>
    <div class='logo'>
      Documentation
    </div>
    <nav class='menu-nav'>
      
        <ul class='nav'>
          <span>介绍</span>
          <ul class='nav'>
            
              <li>
                <a href='/JLUie_MotionAnalysis/what-is-it.html'>这是什么?</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/how-it-works.html'>我们在忙什么？</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/how-it.html'>数据采集，数据库建立，人因分析</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/how.html'>数据的机器学习应用例子（以python为例）</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/ho.html'>网站App创建</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/installation.html' class='active'>资源共享和txt使用实例分享（matlab）</a>
              </li>
            
              <li>
                <a href='/JLUie_MotionAnalysis/using.html'>动作视频预览</a>
              </li>
            
          </ul>
        </ul>
      
        <ul class='nav'>
          <span>项目畅想未来</span>
          <ul class='nav'>
            
              <li>
                <a href='/JLUie_MotionAnalysis/fuckable.html'>项目展望</a>
              </li>
            
          </ul>
        </ul>
      
    </nav>
    <a class='footer' href='https://github.com/Tridu33/JLUie_MotionAnalysis'>
      github上的项目
    </a>
  </div>
  <div class='page'>
    <div class='page-content'>
      <h1>资源共享和使用实例分享</h1>
      <h4 id="日常动作分类"><a href="#日常动作分类" class="headerlink" title="日常动作分类"></a>日常动作分类</h4><p><a href="http://naotu.baidu.com/file/fefd8d9875680e56752a7e4201124c72?token=c61eeeb612e987d2" target="_blank" rel="noopener">😜观看分类脑图和单独下载<em><code>txt</code></em></a></p>
<p><a href="https://" target="_blank" rel="noopener">zip全部下载</a></p>
<h4 id="双人交互动作分类"><a href="#双人交互动作分类" class="headerlink" title="双人交互动作分类"></a>双人交互动作分类</h4><p><a href="http://naotu.baidu.com/file/f71b814b1d6d45dc35f6f3b5a95a6b8b?token=13ff9f40e214e3ec" target="_blank" rel="noopener">😜观看分类脑图和单独下载<em><code>txt</code></em></a></p>
<p><a href="http://naotu.baidu.com/file/d6e78743b9b659dfe2e16560406222f4?token=8d5652068695c251" target="_blank" rel="noopener">😜观看24式太极拳和下载</a></p>
<p><a href="https://" target="_blank" rel="noopener">zip全部下载</a></p>
<h4 id="体育动作分类"><a href="#体育动作分类" class="headerlink" title="体育动作分类"></a>体育动作分类</h4><p><a href="http://naotu.baidu.com/file/249affe60795061e51788fdcc44b666e?token=b9bcf74a939c8e40" target="_blank" rel="noopener">😜观看分类脑图和单独下载<em><code>txt</code></em></a></p>
<p><a href="https://" target="_blank" rel="noopener">zip全部下载</a></p>
<h4 id="人在不同环境下的交互动作"><a href="#人在不同环境下的交互动作" class="headerlink" title="人在不同环境下的交互动作"></a>人在不同环境下的交互动作</h4><p><a href="http://naotu.baidu.com/file/627fe8ff044705df6eb5c53e9d012dab?token=dc8fd98590f8242a" target="_blank" rel="noopener">😜观看分类脑图和单独下载<em><code>txt</code></em></a></p>
<p><a href="https://" target="_blank" rel="noopener">zip全部下载</a></p>
<h4 id="txt文件使用实例教程-Matlab为例"><a href="#txt文件使用实例教程-Matlab为例" class="headerlink" title="txt文件使用实例教程 (Matlab为例)"></a>txt文件使用实例教程 (<em>Matlab</em>为例)</h4><p><a href="https://tridu33.io/" target="_blank" rel="noopener">源码下载matlab_txt2avi.rar</a>稍微讲解一下，有<em><code>Matlab</code></em>可以跑跑看，直接运行主函数<code>movie.m</code>就可以生成相应的动作，关键是每一帧的fig都可以单独保存下来，以供研究所用。<code>_*.txt_</code>文件写入,会发现是<em>N</em>行<em>63</em>列的二维矩阵。</p>
<p>具体骨骼点的意义是这样的:63=21*3，每行分别是<em>21</em>个骨骼点的x,y,z，每行数据对应每次取样的时间间隔1/30秒（<em>Kinect</em>采样频率<em>30HZ</em>），按顺序具体是:</p>
<blockquote>
<p>右腕      左腕      右手指    左手指    右拇指    左拇指    头    脖    颈下脊椎        脊椎中部    脊椎基部        右肩    左肩    右坐骨    左坐骨    右肘部    左肘部    </p>
<p>右膝盖    左膝盖    右踝关节    左踝关节</p>
</blockquote>
<p><code>drawman.m</code>文件是根据每一帧的图像</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">% 单帧画人，动态化绘制165帧人像</span></div><div class="line">load <span class="built_in">i</span>.mat;</div><div class="line">load <span class="string">'Debugshoushi.txt'</span>;</div><div class="line">D=Debugshoushi;</div><div class="line">[m,n]=<span class="built_in">size</span>(D);  </div><div class="line">    <span class="keyword">for</span> k=<span class="number">0</span>:<span class="number">1</span>:<span class="number">20</span></div><div class="line"><span class="comment">% plot3(D(i,(3*k+1)),D(i,(3*k+2)),D(i,(3*k+3)));</span></div><div class="line"><span class="comment">% figure;</span></div><div class="line"><span class="comment">% </span></div><div class="line">axis([<span class="number">-1.2</span> <span class="number">0.5</span> <span class="number">-2</span> <span class="number">2</span> <span class="number">1</span> <span class="number">4</span>]);</div><div class="line">xlabel(<span class="string">'x轴'</span>);ylabel(<span class="string">'y轴'</span>);zlabel(<span class="string">'z轴'</span>);  title(<span class="string">'单帧'</span>);</div><div class="line">scatter3(D(<span class="built_in">i</span>,(<span class="number">3</span>*k+<span class="number">1</span>)),D(<span class="built_in">i</span>,(<span class="number">3</span>*k+<span class="number">2</span>)),D(<span class="built_in">i</span>,(<span class="number">3</span>*k+<span class="number">3</span>)))</div><div class="line">view(<span class="number">-180</span>,<span class="number">-90</span>);</div><div class="line">hold on;</div><div class="line">    <span class="keyword">end</span></div><div class="line"><span class="comment">%连线，黑色直线</span></div><div class="line">x = [D(i,<span class="number">7</span>),D(i,<span class="number">1</span>),D(i,<span class="number">46</span>),D(i,<span class="number">34</span>),D(i,<span class="number">25</span>),D(i,<span class="number">22</span>),D(i,<span class="number">19</span>)];</div><div class="line">  y = [D(i,<span class="number">8</span>),D(i,<span class="number">2</span>),D(i,<span class="number">47</span>),D(i,<span class="number">35</span>),D(i,<span class="number">26</span>),D(i,<span class="number">23</span>),D(i,<span class="number">20</span>)];</div><div class="line">    z = [D(i,<span class="number">9</span>),D(i,<span class="number">3</span>),D(i,<span class="number">48</span>),D(i,<span class="number">36</span>),D(i,<span class="number">27</span>),D(i,<span class="number">24</span>),D(i,<span class="number">21</span>)];</div><div class="line">line(x,y,z);view(<span class="number">-180</span>,<span class="number">-90</span>);hold on;</div><div class="line">x = [D(i,<span class="number">10</span>),D(i,<span class="number">4</span>),D(i,<span class="number">49</span>),D(i,<span class="number">37</span>),D(i,<span class="number">25</span>),D(i,<span class="number">28</span>),D(i,<span class="number">31</span>),D(i,<span class="number">40</span>),D(i,<span class="number">52</span>),D(i,<span class="number">58</span>)];</div><div class="line">  y = [D(i,<span class="number">11</span>),D(i,<span class="number">5</span>),D(i,<span class="number">50</span>),D(i,<span class="number">38</span>),D(i,<span class="number">26</span>),D(i,<span class="number">29</span>),D(i,<span class="number">32</span>),D(i,<span class="number">41</span>),D(i,<span class="number">53</span>),D(i,<span class="number">59</span>)];</div><div class="line">    z = [D(i,<span class="number">12</span>),D(i,<span class="number">6</span>),D(i,<span class="number">51</span>),D(i,<span class="number">39</span>),D(i,<span class="number">27</span>),D(i,<span class="number">30</span>),D(i,<span class="number">33</span>),D(i,<span class="number">42</span>),D(i,<span class="number">54</span>),D(i,<span class="number">60</span>)];</div><div class="line">line(x,y,z);view(<span class="number">-180</span>,<span class="number">-90</span>);x = [D(i,<span class="number">31</span>),D(i,<span class="number">43</span>),D(i,<span class="number">55</span>),D(i,<span class="number">61</span>)];  y = [D(i,<span class="number">32</span>),D(i,<span class="number">44</span>),D(i,<span class="number">56</span>),D(i,<span class="number">62</span>)];</div><div class="line">    z = [D(i,<span class="number">33</span>),D(i,<span class="number">45</span>),D(i,<span class="number">57</span>),D(i,<span class="number">63</span>)];line(x,y,z);view(<span class="number">-180</span>,<span class="number">-90</span>);x = [D(i,<span class="number">1</span>),D(i,<span class="number">13</span>)];</div><div class="line">  y = [D(i,<span class="number">2</span>),D(i,<span class="number">14</span>)];    z = [D(i,<span class="number">3</span>),D(i,<span class="number">15</span>)];line(x,y,z);view(<span class="number">-180</span>,<span class="number">-90</span>);x = [D(i,<span class="number">4</span>),D(i,<span class="number">16</span>)];</div><div class="line">  y = [D(i,<span class="number">5</span>),D(i,<span class="number">17</span>)];    z = [D(i,<span class="number">6</span>),D(i,<span class="number">18</span>)];line(x,y,z);view(<span class="number">-180</span>,<span class="number">-90</span>);</div></pre></td></tr></table></figure>
<p>然后单独运行一行的63个骨骼点，连线，就可以得到对应的空间坐标点。</p>
<p>以<code>matlab</code>为例可以得到*.fig文件存储每一帧的骨骼点，如果你足够鬼畜，也可以把很多帧的骨骼点同时放一起，看看“千手观音”般的图像(此图是24式太极拳起势的一部分)：</p>
<p><img src="http://pd8gnaa72.bkt.clouddn.com/163%E5%B8%A7%E9%87%8D%E5%8F%A0.JPG" alt=""></p>
<p>然后，我们把每一帧播放，形成<code>*.avi</code>视频：</p>
<figure class="highlight matlab"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">%%制作动画，写成视频并且学习读写</span></div><div class="line">clear;clc;close;</div><div class="line">load <span class="string">'Debugshoushi.txt'</span>;</div><div class="line">D=Debugshoushi;</div><div class="line">[m,n]=<span class="built_in">size</span>(D);</div><div class="line">M=moviein(<span class="number">162</span>);</div><div class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">162</span></div><div class="line">save <span class="built_in">i</span>.mat <span class="built_in">i</span>;</div><div class="line"><span class="comment">%单帧图像是吗？</span></div><div class="line">   draw_human;</div><div class="line">    M(:,<span class="built_in">i</span>)=getframe;</div><div class="line"><span class="comment">%实现旋转视图,动态观看 ,取消注释就能看</span></div><div class="line"><span class="comment">% t = 0:1:360;  </span></div><div class="line"><span class="comment">% for j =1:1:length(t)  </span></div><div class="line"><span class="comment">%     view(-180-t(j),-90);  </span></div><div class="line"><span class="comment">%     pause(0.01)  </span></div><div class="line"><span class="comment">% end  </span></div><div class="line"><span class="comment">% pause(0.217);</span></div><div class="line">cla</div><div class="line"><span class="keyword">end</span></div><div class="line">myVideo = VideoWriter(<span class="string">'收势.avi'</span>);</div><div class="line">open(myVideo);</div><div class="line">writeVideo(myVideo, M);</div><div class="line">close(myVideo);<span class="comment">%动画N同理</span></div><div class="line">close all;</div></pre></td></tr></table></figure>
<p><strong>效果（24式太极拳）</strong></p>
<iframe height="498" width="510" src="http://player.youku.com/embed/XMzc3NDYxMDU2NA==" frameborder="0" 'allowfullscreen'=""></iframe>

<p>好了，现在你应该已经学会会用我们的数据库的txt文件了！</p>
<p>我们的数据中不但有静态骨骼点的<strong>空间信息</strong>，还有动态的<strong>时间信息</strong>（<em>Kinect</em>采样频率<em>30HZ</em>）！</p>
<p>接下来，要怎么使用我们的数据，就看你的想象力了！</p>
<p>你可以实现其他更多的功能，如果帧数不足，还可以针对骨骼点认为插值，使动作更流畅！</p>
<p>举些栗子：</p>
<ul>
<li>用机器学习的方法进行动作识别，作为数据的训练集对算法进行训练，</li>
<li>人因动素分析，作业评价等工业工程相关的动作研究，作业评价，RULE模特法,</li>
<li>虚拟现实和虚拟装配的数据实时采集，存储，</li>
<li>导入虚拟建模软件绑定的骨骼点从而实现低成本实时动画制作，</li>
<li>$\cdots$</li>
</ul>
<p>当然，如果你也有点小钱，买个<em><code>Kinect</code></em>自己在家玩耍，录入的数据能给我们反馈(pull request)一下下，丰富我们研究动作的数据库，开源共享，岂不美哉？</p>

    </div>
  </div>
  <div class='switch-page'>
    
      <a class='previous' href='/JLUie_MotionAnalysis/ho.html'>Previous</a>
    
    
      <a class='next' href='/JLUie_MotionAnalysis/using.html'>Next</a>
    
  </div>
</body>
</html>
